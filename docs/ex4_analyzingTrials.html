<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Pre- to post-treatment analysis</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">IDR3002 Course notes</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Software
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="installation.html">Installing and starting up R and RStudio</a>
    </li>
    <li>
      <a href="markdown.html">Creating a report using rmarkdown</a>
    </li>
    <li>
      <a href="structure.html">Structuring an analysis</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Lessons
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="introduction_1.html">Introduction to R</a>
    </li>
    <li>
      <a href="import_data.html">Import data</a>
    </li>
    <li>
      <a href="make_summaries.html">Make summaries</a>
    </li>
    <li>
      <a href="plot_ggplot2.html">Create plots with ggplot2</a>
    </li>
    <li>
      <a href="descriptive_statistics.html">Assignment: Descriptive statistics</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="ex2_introInference.html">Statistical inference</a>
    </li>
    <li>
      <a href="ex2_introInference2.html">Statistical inference 2</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="ex3_regressionModels.html">Regression models</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Exercises
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="ex1_intro.html">Introduction to R and RStudio</a>
    </li>
    <li>
      <a href="ex1_import.html">Import data</a>
    </li>
    <li>
      <a href="ex1_summarise.html">Summarise data</a>
    </li>
    <li>
      <a href="ex1_figures.html">Making figures</a>
    </li>
    <li>
      <a href="exercise_week3.html">MRegression models</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Assignments
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="assignments_week1.html">Week 1</a>
    </li>
    <li>
      <a href="assignments_week2.html">Week 2</a>
    </li>
    <li>
      <a href="assignments_week3.html">Week 3</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="faq.html">
    <span class="fa fa-question fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Pre- to post-treatment analysis</h1>

</div>


<div id="the-10-vs.-30rm-study" class="section level2">
<h2>The 10 vs. 30RM study</h2>
<p>In this study, n = 27 participants were renadomized to completed a strength training intervention using loads corresponding to either 30 or 10 repetition maximum. Strength was evaluated as one repetition maximum (1RM) in the benchpress, legpress and bicepscurl. We will analyze strength test data from this trial in the coming week.</p>
<div id="explorative-analysis" class="section level3">
<h3>Explorative analysis</h3>
<p>Use descriptive methods (summary statistics and figures to describe results from the trial). What are the mean and standard deviations of the <code>load</code> variable for each <code>timepoint</code>, <code>exercise</code> and <code>group</code>. Use tables and figures to show the results.</p>
<script language="javascript"> 
    function toggle(num) {
      var ele = document.getElementById("toggleText" + num);
      var text = document.getElementById("displayText" + num);
      if(ele.style.display == "block") {
        ele.style.display = "none";
        text.innerHTML = "show";
      }
      else {
        ele.style.display = "block";
        text.innerHTML = "hide";
      }
   } 
  </script>
<a id="displayText" href="javascript:toggle(1);">Here is a possible solution for a table</a>
<div id="toggleText1" style="display: none">
<p>We want to summarise data per group, exercise and time-point and we want the means, standad deviations and the number of observations.</p>
<pre class="r"><code>ten_vs_thirty_summary &lt;- read_excel(&quot;./data/ten_vs_thirty.xlsx&quot;, na = &quot;NA&quot;) %&gt;%
        group_by(exercise, timepoint, group) %&gt;%
        summarise(Mean = mean(load, na.rm = TRUE), 
                  SD = sd(load, na.rm = TRUE), 
                  n = n()) 


# To create a table we need the kable function from the knitr package

library(knitr)

ten_vs_thirty_summary %&gt;%
kable(digits = c(NA, NA, NA, 1, 1, 0), 
      col.names = c(&quot;Exercise&quot;, &quot;Time-point&quot;, &quot;Group&quot;, &quot;Mean&quot;, &quot;SD&quot;, &quot;n&quot;))</code></pre>
</div>
<p></br></p>
<a id="displayText" href="javascript:toggle(2);">Here is a possible solution for a figure</a>
<div id="toggleText2" style="display: none">
<p>Using the same summary statistics, we can create a figure. We might want to sort variables so that time-points are in the right order. In the figure we can use geom_errorbar to display SD</p>
<pre class="r"><code># create a position for all variables and store in object
pos &lt;- position_dodge(width = 0.2)


ten_vs_thirty_summary %&gt;%
        ungroup() %&gt;% # Needed to mutate the timepoint variable
        mutate(timepoint = factor(timepoint, levels = c(&quot;pre&quot;, &quot;mid&quot;, &quot;post&quot;))) %&gt;%
        ggplot(aes(timepoint, Mean, color = group, group = group)) + 
        geom_errorbar(aes(ymin = Mean - SD, ymax = Mean + SD), position = pos) +
        geom_line(position = pos) +
        geom_point(shape = 21, position = pos) + 
                facet_wrap(~exercise, scales = &quot;free&quot;)</code></pre>
</div>
<p></br></p>
<p>What can you say about the effect of training with 10RM vs. 30RM on muscle strength based on these observations?</p>
</div>
<div id="change-from-baseline" class="section level3">
<h3>Change from baseline</h3>
<p>We will now focuse on the change from baseline (<code>pre</code>) to the <code>mid</code> time-point. To only use this data, use the filter function:</p>
<pre class="r"><code>ten_vs_thirty &lt;- read_excel(&quot;./data/ten_vs_thirty.xlsx&quot;, na = &quot;NA&quot;) %&gt;%
        filter(timepoint != &quot;post&quot;) %&gt;%
        print()</code></pre>
<p>Calculate the average percentage change from baseline in each group and create a graph of the results. Make a plan of your code before you start writing it!</p>
<a id="displayText" href="javascript:toggle(3);">Here is a possible solution for a figure</a>
<div id="toggleText3" style="display: none">
<p>Here we want to perform the following steps:</p>
<ol style="list-style-type: decimal">
<li>Filter the data to only contain pre and mid time-points</li>
<li>Make the data set wider and calculate percentage change as <span class="math inline">\(\frac{mid-pre}{pre} \times 100\)</span></li>
<li>Group the data set by group and exercise</li>
<li>Summarise the data and create a figure with groups on the x-axis and %-change on the y-axis.</li>
</ol>
<a id="displayText" href="javascript:toggle(4);">Example code</a>
<div id="toggleText4" style="display: none">
<pre class="r"><code>read_excel(&quot;./data/ten_vs_thirty.xlsx&quot;, na = &quot;NA&quot;) %&gt;%
        filter(timepoint != &quot;post&quot;) %&gt;%
        pivot_wider(names_from = timepoint, 
                    values_from = load) %&gt;%
        mutate(change = (mid-pre) / pre * 100) %&gt;%
        group_by(group, exercise) %&gt;%
        summarise(m = mean(change, na.rm = TRUE), 
                  s = sd(change, na.rm = TRUE)) %&gt;%
        ggplot(aes(group, m)) + 
        geom_errorbar(aes(ymin = m - s, ymax = m + s)) +
        geom_point() + 
        facet_wrap(~ exercise)</code></pre>
</div>
<p></br></p>
</div>
<p></br></p>
</div>
<div id="model-the-change" class="section level3">
<h3>Model the change</h3>
<p>Focus on the benchpress data. State a hypothesis that compares the two groups and create a test that test against the corresponding null-hypothesis. Remember that we did this using both <code>t.test()</code> and <code>lm()</code>. Using <code>var.equal = TRUE</code> do the corresponding test also in <code>lm</code>. Write a short summary of your results!</p>
<a id="displayText" href="javascript:toggle(5);">Example code</a>
<div id="toggleText5" style="display: none">
<pre class="r"><code>tt_data &lt;- read_excel(&quot;./data/ten_vs_thirty.xlsx&quot;, na = &quot;NA&quot;) %&gt;%
        filter(timepoint != &quot;post&quot;) %&gt;%
        pivot_wider(names_from = timepoint, 
                    values_from = load) %&gt;%
        mutate(change = (mid-pre) / pre * 100) %&gt;%
        filter(exercise == &quot;benchpress&quot;) %&gt;%
        print()

## The t.test

t.test(change ~ group, data = tt_data, var.equal = TRUE)


## The linear model

summary(lm(change ~ group, data = tt_data))</code></pre>
</div>
<p></br></p>
</div>
<div id="accounting-for-the-baseline-regression-towards-the-mean" class="section level3">
<h3>Accounting for the baseline – Regression towards the mean</h3>
</div>
<div id="accounting-for-the-baseline-differences-between-group-and-mixed-models" class="section level3">
<h3>Accounting for the baseline – Differences between group and mixed models</h3>
</div>
<div id="multiple-time-point-mixed-models" class="section level3">
<h3>Multiple time-point – Mixed models</h3>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
